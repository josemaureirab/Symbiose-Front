{"remainingRequest":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomStore.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomStore.vue","mtime":1560899731293},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\n\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate';\nimport { required, maxLength, email } from 'vuelidate/lib/validators';\nVue.use(VeeValidate);\nexport default {\n  name: 'RoomsAdd',\n  components: {},\n  mixins: [validationMixin],\n  validations: {\n    checkbox: {\n      checked: function checked(val) {\n        return val;\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },\n  data: function data() {\n    return {\n      rooms: [],\n      room: '',\n      items: ['Disponible', 'Reservada', 'En mantención', 'Ocupada'],\n      itemsH: ['Sí', 'No'],\n      number: '',\n      smoke: '',\n      status: '',\n      checkbox: '',\n      roomType: '',\n      dictionary: {\n        custom: {\n          number: {\n            required: function required() {\n              return 'El campo número no puede estar vacío';\n            },\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20' // custom messages\n\n          },\n          status: {\n            required: function required() {\n              return 'Debe elegir una opción';\n            } // custom messages\n\n          },\n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    };\n  },\n  created: function created() {\n    this.getRooms();\n  },\n  mounted: function mounted() {\n    this.$validator.localize('en', this.dictionary);\n  },\n  methods: {\n    getRooms: function getRooms() {\n      var _this = this;\n\n      try {\n        axios.get(this.serverURL + '/rooms/').then(function (response) {\n          var rooms = response.data;\n\n          if (rooms.length != 0) {\n            _this.rooms = rooms;\n          } else {\n            console.log('No hay habitaciones o no se puede acceder a ellas');\n          }\n        }).catch(function (e) {\n          console.log(e.response);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    createRoom: function createRoom(payload) {\n      var _this2 = this;\n\n      this.loader = true;\n      var newSmoke = '';\n\n      if (payload.smoke === 'Sí') {\n        newSmoke = true;\n      } else {\n        newSmoke = false;\n      }\n\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke,\n        roomType: null\n      };\n\n      try {\n        axios.post(this.serverURL + '/rooms/create/', this.room).then(function (response) {\n          _this2.room = '';\n          _this2.number = '';\n          _this2.status = '';\n          _this2.smoke = '';\n          _this2.roomType = '';\n          router.push({\n            name: 'home'\n          });\n          _this2.loader = false;\n        }).catch(function (e) {\n          console.log(e.response);\n        });\n      } catch (error) {\n        this.room = '';\n        console.log(error);\n      }\n    },\n    changeLoader: function changeLoader(payload) {\n      this.loader = payload;\n    },\n    submit: function submit() {\n      this.$validator.validateAll();\n    },\n    clear: function clear() {\n      this.number = '';\n      this.status = null;\n      this.smoke = null;\n      this.checkbox = null;\n      this.$validator.reset();\n    }\n  },\n  computed: _objectSpread({}, mapState(['serverURL']), {\n    checkboxErrors: function checkboxErrors() {\n      var errors = [];\n      if (!this.$v.checkbox.$dirty) return errors;\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida');\n      return errors;\n    }\n  })\n};",{"version":3,"sources":["roomStore.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"roomsadd\">\n    <v-container fluid>\n    <form @submit.prevent=\"createRoom({number, status, smoke, roomType})\">  \n        <v-text-field\n          v-model=\"number\"\n          v-validate=\"'required|max:20'\"\n          :counter=\"20\"\n          :error-messages=\"errors.collect('number')\"\n          label=\"Número\"\n          type=\"number\"\n          data-vv-name=\"number\"\n          required\n        ></v-text-field>\n        <v-select\n          v-model=\"status\"\n          v-validate=\"'required'\"\n          :items=\"items\"\n          :error-messages=\"errors.collect('status')\"\n          label=\"Estado\"\n          data-vv-name=\"status\"\n          required\n        ></v-select>\n        <v-checkbox\n          v-model=\"checkbox\"\n          v-validate=\"'required'\"\n          :error-messages=\"errors.collect('checkbox')\"\n          value=\"1\"\n          label=\"Confirmar\"\n          data-vv-name=\"checkbox\"\n          type=\"checkbox\"\n          required\n        ></v-checkbox>\n\t\t\t\t<v-btn round type=\"submit\" dark color=\"success\">\n\t\t\t\t\t<span>Guardar</span>\n          <v-icon dark>save</v-icon>\n\t\t\t\t</v-btn>\n        <v-btn round @click=\"clear\" color=\"warning\">Limpiar <v-icon dark>clear</v-icon></v-btn>\n      </form>\n    </v-container>\n  </div>\n</template>\n\n<script>\n\n/* eslint-disable */\n\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate'\nimport { required, maxLength, email } from 'vuelidate/lib/validators'\n\nVue.use(VeeValidate);\n\nexport default {\n\tname: 'RoomsAdd',\n\tcomponents: {\n\n  },\n\n  mixins: [validationMixin],\n\n  validations: {\n    checkbox: {\n      checked (val) {\n        return val\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },  \n\tdata(){\n\t\treturn{\n      rooms: [],\n\t\t\troom: '',\n       items: [\n        'Disponible',\n\t\t\t\t'Reservada',\n\t\t\t\t'En mantención',\n\t\t\t\t'Ocupada'\n      ],\n      itemsH: [\n        'Sí',\n        'No'\n      ],      \n      number: '',\n      smoke: '',\n      status: '',\n      checkbox: '',\n      roomType: '',\n      dictionary: {\n        custom: {\n          number: {\n            required: () => 'El campo número no puede estar vacío',\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20'\n            // custom messages\n          },            \n          status: {\n            required: () => 'Debe elegir una opción',\n            // custom messages\n          },         \n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    }\n\t},\n  created() {\n    this.getRooms();\n  },\n  mounted() {\n    this.$validator.localize('en', this.dictionary)\n  },\n\tmethods: {\n    getRooms() {\n      try {\n        axios\n          .get(this.serverURL + '/rooms/')\n          .then(response => {\n            const rooms = response.data;\n            if (rooms.length != 0) {\n              this.rooms = rooms\n            }\n            else {\n              console.log('No hay habitaciones o no se puede acceder a ellas');\n            }\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    createRoom(payload) {\n      this.loader = true;\n\t\t\tvar newSmoke = '';\n\t\t\tif (payload.smoke === 'Sí') {\n\t\t\t\tnewSmoke = true;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnewSmoke = false;\n\t\t\t}\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke, \n        roomType: null\n      }\n      try { \n        axios\n          .post(this.serverURL + '/rooms/create/', this.room)\n          .then(response => {\n            this.room = '';\n            this.number = '';\n            this.status = '';\n            this.smoke = '';\n            this.roomType = '';\n            router.push({ name: 'home' });\n            this.loader = false;\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        this.room = '';\n        console.log(error)\n      }\n    },\n    changeLoader(payload){\n\t\t\tthis.loader = payload;\n    },\n    submit () {\n      this.$validator.validateAll()\n    },\n    clear () {\n      this.number = ''\n      this.status = null\n      this.smoke = null\n      this.checkbox = null\n      this.$validator.reset()\n    }\n\t},\n\tcomputed: {\n    ...mapState([\n      'serverURL',\n    ]),\n    checkboxErrors () {\n      const errors = []\n      if (!this.$v.checkbox.$dirty) return errors\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida')\n      return errors\n    }\n  }  \n  ,\n}\n</script>\n"],"sourceRoot":"src/components/room"}]}