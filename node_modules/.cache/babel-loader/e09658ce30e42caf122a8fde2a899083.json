{"remainingRequest":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomUpdate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomUpdate.vue","mtime":1560263460554},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/* eslint-disable */\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\n\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate';\nimport { required, maxLength, email } from 'vuelidate/lib/validators';\nVue.use(VeeValidate);\nexport default {\n  name: 'RoomsAdd',\n  components: {},\n  mixins: [validationMixin],\n  validations: {\n    checkbox: {\n      checked: function checked(val) {\n        return val;\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },\n  data: function data() {\n    return {\n      room: {},\n      number: '',\n      smoke: '',\n      status: '',\n      newSmoke: '',\n      checkbox: '',\n      roomType: '',\n      items: ['Disponible', 'Reservada', 'En mantención', 'Ocupada'],\n      itemsH: ['Sí', 'No'],\n      dictionary: {\n        custom: {\n          number: {\n            required: function required() {\n              return 'El campo número no puede estar vacío';\n            },\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20' // custom messages\n\n          },\n          status: {\n            required: function required() {\n              return 'Debe elegir una opción';\n            } // custom messages\n\n          },\n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    };\n  },\n  created: function created() {\n    this.getRoom(this.$route.params.id);\n  },\n  mounted: function mounted() {\n    this.$validator.localize('en', this.dictionary);\n  },\n  methods: {\n    getRoom: function getRoom(id) {\n      var _this = this;\n\n      try {\n        axios.get(this.serverURL + \"/rooms/\".concat(id)).then(function (response) {\n          var room = response.data;\n          var newSmoke = '';\n\n          if (room.smoke === true) {\n            newSmoke = 'Sí';\n          } else {\n            newSmoke = 'No';\n          }\n\n          if (room) {\n            _this.room = {\n              number: room.number,\n              status: room.status,\n              smoke: room.smoke\n            };\n            _this.number = room.number, _this.status = room.status, _this.smoke = newSmoke;\n          } else {\n            console.log('No hay habitaciones o no se puede acceder a ellas');\n          }\n        }).catch(function (e) {\n          console.log(e.response);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    editRoom: function editRoom(id, payload) {\n      var _this2 = this;\n\n      this.loader = true;\n      var newSmoke = '';\n\n      if (payload.smoke === 'Sí') {\n        newSmoke = true;\n      } else {\n        newSmoke = false;\n      }\n\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke\n      };\n\n      try {\n        axios.put(this.serverURL + \"/rooms/edit/\".concat(this.$route.params.id), this.room).then(function (response) {\n          _this2.loader = false;\n          router.push({\n            name: 'rooms'\n          });\n          _this2.loader = false;\n          console.log('La habitación ha sido actualizada.');\n        }).catch(function (e) {\n          console.log(e);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    changeLoader: function changeLoader(payload) {\n      this.loader = payload;\n    },\n    submit: function submit() {\n      this.$validator.validateAll();\n    },\n    clear: function clear() {\n      this.number = '';\n      this.status = null;\n      this.smoke = null;\n      this.checkbox = null;\n      this.$validator.reset();\n    }\n  },\n  computed: _objectSpread({}, mapState(['serverURL']), {\n    checkboxErrors: function checkboxErrors() {\n      var errors = [];\n      if (!this.$v.checkbox.$dirty) return errors;\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida');\n      return errors;\n    }\n  })\n};",{"version":3,"sources":["roomUpdate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"roomsadd\">\n    <v-container fluid>\n    <form @submit.prevent=\"editRoom(room,{number, status, smoke, roomType})\">  \n        <v-text-field\n          v-model=\"number\"\n          v-validate=\"'required|max:20'\"\n          :counter=\"20\"\n          :error-messages=\"errors.collect('number')\"\n\t\t\t\t\t:placeholder=\"''+room.number\"\n          type=\"number\"\n          data-vv-name=\"number\"\n          required\n        ></v-text-field>\n        <v-select\n          v-model=\"status\"\n          v-validate=\"'required'\"\n          :items=\"items\"\n          :placeholder=\"room.status\"\n          :error-messages=\"errors.collect('status')\"\n          data-vv-name=\"status\"\n          required\n        ></v-select>\n        <v-select\n          v-model=\"smoke\"\n          v-validate=\"'required'\"\n          :items=\"itemsH\"\n          :error-messages=\"errors.collect('status')\"\n\t\t\t\t\t:placeholder=\"newSmoke\"\n          data-vv-name=\"smoke\"\n          required\n        ></v-select>   \n        <v-checkbox\n          v-model=\"checkbox\"\n          v-validate=\"'required'\"\n          :error-messages=\"errors.collect('checkbox')\"\n          value=\"1\"\n          label=\"Confirmar\"\n          data-vv-name=\"checkbox\"\n          type=\"checkbox\"\n          required\n        ></v-checkbox>  \n          <v-btn round color=\"success\" dark type=\"submit\">\n            <span>Guardar cambios</span><v-icon dark>save</v-icon>\n          </v-btn>\n          <v-btn round @click=\"clear\" color=\"warning\">Limpiar <v-icon dark>clear</v-icon></v-btn>\n          <v-btn round color=\"info\" to=\"/rooms\">\n            <span>Volver</span><v-icon dark>keyboard_backspace</v-icon>\n          </v-btn>        \n      </form>\n    </v-container>\n  </div>\n</template>\n\n<script>\n\n/* eslint-disable */\n\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate'\nimport { required, maxLength, email } from 'vuelidate/lib/validators'\n\nVue.use(VeeValidate);\n\nexport default {\n\tname: 'RoomsAdd',\n\tcomponents: {\n\n  },\n\n  mixins: [validationMixin],\n\n  validations: {\n    checkbox: {\n      checked (val) {\n        return val\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },  \n\tdata(){\n\t\treturn{\n\t\t\troom: {},\n      number: '',\n      smoke: '',\n      status: '',\n      newSmoke: '',\n      checkbox: '',\n\t\t\troomType: '',\n      items: [\n        'Disponible',\n\t\t\t\t'Reservada',\n\t\t\t\t'En mantención',\n\t\t\t\t'Ocupada'\n      ],\n      itemsH: [\n        'Sí',\n        'No'\n      ],      \t\t\t\n      dictionary: {\n        custom: {\n          number: {\n            required: () => 'El campo número no puede estar vacío',\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20'\n            // custom messages\n          },            \n          status: {\n            required: () => 'Debe elegir una opción',\n            // custom messages\n          },         \n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    }\n\t},\n  created() {\n    this.getRoom(this.$route.params.id);\n  },\n  mounted() {\n    this.$validator.localize('en', this.dictionary)\n  },\n\tmethods: {\n    getRoom(id) {\n      try {\n        axios\n          .get(this.serverURL + `/rooms/${id}`)\n          .then(response => {\n            var room = response.data;\n            var newSmoke = '';\n            if (room.smoke === true) {\n              newSmoke = 'Sí';\n            }\n            else{\n              newSmoke = 'No';\n            }\n            if (room) {\n              this.room = {\n                number: room.number,\n\t\t\t\t\t\t\t\tstatus: room.status,\n                smoke: room.smoke\t\t\t\t\t\t\n              }\n                this.number = room.number,\n\t\t\t\t\t\t\t\tthis.status = room.status,\n                this.smoke = newSmoke\t\n            }\n            else {\n              console.log('No hay habitaciones o no se puede acceder a ellas');\n            }\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    editRoom(id, payload) {\n      this.loader = true;\n      var newSmoke = '';\n\t\t\tif (payload.smoke === 'Sí') {\n\t\t\t\tnewSmoke = true;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnewSmoke = false;\n\t\t\t}\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke,\n      }\n      try { \n        axios\n          .put(this.serverURL + `/rooms/edit/${this.$route.params.id}`, this.room)\n          .then(response => {\n              this.loader = false;\n              router.push({ name: 'rooms' })\n              this.loader = false;\n              console.log('La habitación ha sido actualizada.');\n          })\n          .catch(e => {\n            console.log(e);\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    changeLoader(payload){\n\t\t\tthis.loader = payload;\n    },\n    submit () {\n      this.$validator.validateAll()\n    },\n    clear () {\n      this.number = ''\n      this.status = null\n      this.smoke = null\n      this.checkbox = null\n      this.$validator.reset()\n    }\n\t},\n\tcomputed: {\n    ...mapState([\n      'serverURL',\n    ]),\n    checkboxErrors () {\n      const errors = []\n      if (!this.$v.checkbox.$dirty) return errors\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida')\n      return errors\n    }\n  }  \n  ,\n}\n</script>"],"sourceRoot":"src/components/room"}]}