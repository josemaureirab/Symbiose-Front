{"remainingRequest":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomStore.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/src/components/room/roomStore.vue","mtime":1560899731293},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/josemaureirabadilla/Desktop/ProyectoTingesoFrontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n/* eslint-disable */\n\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate'\nimport { required, maxLength, email } from 'vuelidate/lib/validators'\n\nVue.use(VeeValidate);\n\nexport default {\n\tname: 'RoomsAdd',\n\tcomponents: {\n\n  },\n\n  mixins: [validationMixin],\n\n  validations: {\n    checkbox: {\n      checked (val) {\n        return val\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },  \n\tdata(){\n\t\treturn{\n      rooms: [],\n\t\t\troom: '',\n       items: [\n        'Disponible',\n\t\t\t\t'Reservada',\n\t\t\t\t'En mantención',\n\t\t\t\t'Ocupada'\n      ],\n      itemsH: [\n        'Sí',\n        'No'\n      ],      \n      number: '',\n      smoke: '',\n      status: '',\n      checkbox: '',\n      roomType: '',\n      dictionary: {\n        custom: {\n          number: {\n            required: () => 'El campo número no puede estar vacío',\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20'\n            // custom messages\n          },            \n          status: {\n            required: () => 'Debe elegir una opción',\n            // custom messages\n          },         \n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    }\n\t},\n  created() {\n    this.getRooms();\n  },\n  mounted() {\n    this.$validator.localize('en', this.dictionary)\n  },\n\tmethods: {\n    getRooms() {\n      try {\n        axios\n          .get(this.serverURL + '/rooms/')\n          .then(response => {\n            const rooms = response.data;\n            if (rooms.length != 0) {\n              this.rooms = rooms\n            }\n            else {\n              console.log('No hay habitaciones o no se puede acceder a ellas');\n            }\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    createRoom(payload) {\n      this.loader = true;\n\t\t\tvar newSmoke = '';\n\t\t\tif (payload.smoke === 'Sí') {\n\t\t\t\tnewSmoke = true;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnewSmoke = false;\n\t\t\t}\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke, \n        roomType: null\n      }\n      try { \n        axios\n          .post(this.serverURL + '/rooms/create/', this.room)\n          .then(response => {\n            this.room = '';\n            this.number = '';\n            this.status = '';\n            this.smoke = '';\n            this.roomType = '';\n            router.push({ name: 'home' });\n            this.loader = false;\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        this.room = '';\n        console.log(error)\n      }\n    },\n    changeLoader(payload){\n\t\t\tthis.loader = payload;\n    },\n    submit () {\n      this.$validator.validateAll()\n    },\n    clear () {\n      this.number = ''\n      this.status = null\n      this.smoke = null\n      this.checkbox = null\n      this.$validator.reset()\n    }\n\t},\n\tcomputed: {\n    ...mapState([\n      'serverURL',\n    ]),\n    checkboxErrors () {\n      const errors = []\n      if (!this.$v.checkbox.$dirty) return errors\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida')\n      return errors\n    }\n  }  \n  ,\n}\n",{"version":3,"sources":["roomStore.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"roomStore.vue","sourceRoot":"src/components/room","sourcesContent":["<template>\n  <div class=\"roomsadd\">\n    <v-container fluid>\n    <form @submit.prevent=\"createRoom({number, status, smoke, roomType})\">  \n        <v-text-field\n          v-model=\"number\"\n          v-validate=\"'required|max:20'\"\n          :counter=\"20\"\n          :error-messages=\"errors.collect('number')\"\n          label=\"Número\"\n          type=\"number\"\n          data-vv-name=\"number\"\n          required\n        ></v-text-field>\n        <v-select\n          v-model=\"status\"\n          v-validate=\"'required'\"\n          :items=\"items\"\n          :error-messages=\"errors.collect('status')\"\n          label=\"Estado\"\n          data-vv-name=\"status\"\n          required\n        ></v-select>\n        <v-checkbox\n          v-model=\"checkbox\"\n          v-validate=\"'required'\"\n          :error-messages=\"errors.collect('checkbox')\"\n          value=\"1\"\n          label=\"Confirmar\"\n          data-vv-name=\"checkbox\"\n          type=\"checkbox\"\n          required\n        ></v-checkbox>\n\t\t\t\t<v-btn round type=\"submit\" dark color=\"success\">\n\t\t\t\t\t<span>Guardar</span>\n          <v-icon dark>save</v-icon>\n\t\t\t\t</v-btn>\n        <v-btn round @click=\"clear\" color=\"warning\">Limpiar <v-icon dark>clear</v-icon></v-btn>\n      </form>\n    </v-container>\n  </div>\n</template>\n\n<script>\n\n/* eslint-disable */\n\nimport axios from 'axios';\nimport moment from 'moment'; // Trabajo del tipo de dato Date (fechas).\nimport router from '@/router';\nimport { mapState } from 'vuex';\nimport { round } from '@amcharts/amcharts4/.internal/core/utils/Math';\nimport Vue from 'vue';\nimport VeeValidate from 'vee-validate';\nimport { validationMixin } from 'vuelidate'\nimport { required, maxLength, email } from 'vuelidate/lib/validators'\n\nVue.use(VeeValidate);\n\nexport default {\n\tname: 'RoomsAdd',\n\tcomponents: {\n\n  },\n\n  mixins: [validationMixin],\n\n  validations: {\n    checkbox: {\n      checked (val) {\n        return val\n      }\n    }\n  },\n  $_veeValidate: {\n    validator: 'new'\n  },  \n\tdata(){\n\t\treturn{\n      rooms: [],\n\t\t\troom: '',\n       items: [\n        'Disponible',\n\t\t\t\t'Reservada',\n\t\t\t\t'En mantención',\n\t\t\t\t'Ocupada'\n      ],\n      itemsH: [\n        'Sí',\n        'No'\n      ],      \n      number: '',\n      smoke: '',\n      status: '',\n      checkbox: '',\n      roomType: '',\n      dictionary: {\n        custom: {\n          number: {\n            required: () => 'El campo número no puede estar vacío',\n            max: 'La cantidad de caracteres en el campo no puede ser mayor a 20'\n            // custom messages\n          },            \n          status: {\n            required: () => 'Debe elegir una opción',\n            // custom messages\n          },         \n          checkbox: {\n            required: 'La confirmación es requerida'\n          }\n        }\n      }\n    }\n\t},\n  created() {\n    this.getRooms();\n  },\n  mounted() {\n    this.$validator.localize('en', this.dictionary)\n  },\n\tmethods: {\n    getRooms() {\n      try {\n        axios\n          .get(this.serverURL + '/rooms/')\n          .then(response => {\n            const rooms = response.data;\n            if (rooms.length != 0) {\n              this.rooms = rooms\n            }\n            else {\n              console.log('No hay habitaciones o no se puede acceder a ellas');\n            }\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        console.log(error)\n      }\n    },\n    createRoom(payload) {\n      this.loader = true;\n\t\t\tvar newSmoke = '';\n\t\t\tif (payload.smoke === 'Sí') {\n\t\t\t\tnewSmoke = true;\n\t\t\t}\n\t\t\telse{\n\t\t\t\tnewSmoke = false;\n\t\t\t}\n      this.room = {\n        number: payload.number,\n        status: payload.status,\n        smoke: newSmoke, \n        roomType: null\n      }\n      try { \n        axios\n          .post(this.serverURL + '/rooms/create/', this.room)\n          .then(response => {\n            this.room = '';\n            this.number = '';\n            this.status = '';\n            this.smoke = '';\n            this.roomType = '';\n            router.push({ name: 'home' });\n            this.loader = false;\n          })\n          .catch(e => {\n            console.log(e.response);\n          })\n      } catch (error) {\n        this.room = '';\n        console.log(error)\n      }\n    },\n    changeLoader(payload){\n\t\t\tthis.loader = payload;\n    },\n    submit () {\n      this.$validator.validateAll()\n    },\n    clear () {\n      this.number = ''\n      this.status = null\n      this.smoke = null\n      this.checkbox = null\n      this.$validator.reset()\n    }\n\t},\n\tcomputed: {\n    ...mapState([\n      'serverURL',\n    ]),\n    checkboxErrors () {\n      const errors = []\n      if (!this.$v.checkbox.$dirty) return errors\n      !this.$v.checkbox.checked && errors.push('La confirmación es requerida')\n      return errors\n    }\n  }  \n  ,\n}\n</script>\n"]}]}